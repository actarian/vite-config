var E=Object.defineProperty;var $=(r,e,n)=>e in r?E(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var d=(r,e,n)=>($(r,typeof e!="symbol"?e+"":e,n),n);import{S as p}from"./vendor.js";const O=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}};O();const I="modulepreload",b={},L="/vite-config/",A=function(e,n){return!n||n.length===0?e():Promise.all(n.map(o=>{if(o=`${L}${o}`,o in b)return;b[o]=!0;const t=o.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${s}`))return;const c=document.createElement("link");if(c.rel=t?"stylesheet":I,t||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),t)return new Promise((u,i)=>{c.addEventListener("load",u),c.addEventListener("error",i)})})).then(()=>e())},g={"../../modules/lazy-section.component.js":()=>A(()=>import("./lazy-section.component.js"),["js/lazy-section.component.js","assets/lazy-section.component.css","js/vendor.js"])};class f{constructor(e){this.node=e,this.unsubscribe$=new p,this.onInit()}onInit(){}onChanges(){}onDestroy(){}destroy(){this.unsubscribe$.next(),this.onDestroy(),this.node=null,this.unsubscribe$=null}static create(e){const n=document.createElement("div");return n.innerHTML=e,n.firstElementChild}static getFactory(e){return new Promise((n,o)=>{if(Array.isArray(e)){const t=e[0];if(this.factories.has(t))n(this.factories.get(t));else{const s=e[1],c=Object.keys(g).find(u=>u.indexOf(s)!==-1);c?g[c]().then(i=>{t in i?(e=i[t],this.factories.set(t,e),n(e)):o(`cannot find ${t} in module ${s}`)}):o(`cannot find ${t} in modules`)}}else n(e)})}static register$(e,n=document){const o=[];this.instances.set(n,o);const t=new p,s=[],c=e.map(i=>{let a;Array.isArray(i)?a=i[2]:a=i.meta.selector;const l=Array.prototype.slice.call(n.querySelectorAll(a));return"matches"in n&&n.matches(a)&&l.push(n),l.forEach(h=>{s.indexOf(h)===-1&&s.push(h)}),{factory:i,nodes:l}}).filter(i=>i.nodes.length>0),u=i=>{c.filter(l=>l.nodes.indexOf(i)!==-1).forEach(l=>{this.getFactory(l.factory).then(h=>{const m=new h.prototype.constructor(i);o.push(m),t.next(o.slice())})})};if("IntersectionObserver"in window){const i={root:n,rootMargin:"50px",threshold:[.01,.99]},a=new IntersectionObserver((l,h)=>{l.forEach(m=>{m.isIntersecting&&(u(m.target),h.unobserve(m.target))})},i);s.forEach(l=>{a.observe(l)}),this.observers.set(n,a)}else s.forEach(i=>{u(i)});return t}static unregister(e=document){this.observers.has(e)&&this.observers.get(e).disconnect(),this.instances.has(e)&&this.instances.get(e).forEach(o=>o.destroy())}static registeredInstances(e=document){return this.instances.has(e)?this.instances.get(e):[]}}d(f,"observers",new Map),d(f,"instances",new Map),d(f,"factories",new Map),d(f,"meta",{selector:"[component]"});class y extends f{onInit(){console.log("AppComponent.onInit")}}d(y,"meta",{selector:"[app]"});class v extends f{onInit(){const e=Math.floor(performance.now()/100)/10;console.log("SectionComponent.onInit",e),this.node.querySelector(".section__time").innerHTML=`SectionComponent.onInit at ${e}s`}}d(v,"meta",{selector:"[section]"});function w(r=document){return f.register$([y,v,["LazySectionComponent","./modules/lazy-section.component.js","[lazy-section]"]],r)}window.addEventListener("DOMContentLoaded",()=>{w(document).subscribe(r=>{console.log("registerComponents$",r.length,r[r.length-1])})});window.registerApp$=w;export{f as C};
