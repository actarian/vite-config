var Lt=Object.defineProperty,Vt=Object.defineProperties;var qt=Object.getOwnPropertyDescriptors;var et=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable;var F=(l,t,e)=>t in l?Lt(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e,H=(l,t)=>{for(var e in t||(t={}))Rt.call(t,e)&&F(l,e,t[e]);if(et)for(var e of et(t))Dt.call(t,e)&&F(l,e,t[e]);return l},st=(l,t)=>Vt(l,qt(t));var h=(l,t,e)=>(F(l,typeof t!="symbol"?t+"":t,e),e);import{S as A,E as q,B as T,f as I,m as _,t as p,s as R,a as Pt,o as N,b as y,c as it,d as w,e as m,g as U,R as nt,h as E,i as zt,j as Ft,k as rt,l as Ht,n as Ut,p as Wt,q as W,r as Bt}from"./vendor.js";const Kt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}};Kt();const Yt="modulepreload",ot={},Xt="/vite-config/",Zt=function(t,e){return!e||e.length===0?t():Promise.all(e.map(s=>{if(s=`${Xt}${s}`,s in ot)return;ot[s]=!0;const i=s.endsWith(".css"),n=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const r=document.createElement("link");if(r.rel=i?"stylesheet":Yt,i||(r.as="script",r.crossOrigin=""),r.href=s,document.head.appendChild(r),i)return new Promise((o,a)=>{r.addEventListener("load",o),r.addEventListener("error",a)})})).then(()=>t())},at={"../../modules/lazy-section.component.js":()=>Zt(()=>import("./lazy-section.component.js"),["js/lazy-section.component.js","assets/lazy-section.component.css","js/vendor.js"])},j=new Map,$=class{constructor(t,e){this.node=t,this.selector=e,this.unsubscribe$=new A;let s;j.has(t)?s=j.get(t):(s=[],j.set(t,s)),s.push(this),this.onInit()}onInit(){}onChanges(){}onDestroy(){}destroy(){const t=this.node;this.unsubscribe$.next(),this.onDestroy(),this.node=null,this.unsubscribe$=null;const e=j.get(t);e.splice(e.indexOf(this),1),e.length===0&&j.delete(t),$.instances.forEach(s=>{const i=s.indexOf(this);i!==-1&&s.splice(i,1)})}get state(){return this.state_||(this.state_=$.newState(this.node)),this.state_}set state(t){throw"state cannot be set"}get state$(){let t=null,e=this.node.parentNode;for(;!t&&e;)$.states.has(e)?t=$.states.get(e):e=e.parentNode;return t||q}static newState(t,e={}){function s(o,a){const c=`state-${o}`;typeof a=="string"||typeof a=="number"?t.setAttribute(c,a):t.classList.toggle(c,a)}Object.keys(e).forEach(o=>{s(o,e[o])});const i=new T(e),n={set(o,a,c){const u=Reflect.set(...arguments);return s(a,c),i.next(H({},o)),u}},r=new Proxy(e,n);if(this.states.has(t))throw"only one state per node";return this.states.set(t,i),r}static getExpression(t){return Function("state",`
			with(state) {
				try {
					return ${t};
				} catch (_) {
					return null;
				}
			}
		`)}static getFactory(t){return new Promise((e,s)=>{if(Array.isArray(t)){const i=t[0];if(this.factories.has(i))e(this.factories.get(i));else{const n=t[1],r=Object.keys(at).find(o=>o.indexOf(n)!==-1);r?at[r]().then(a=>{i in a?(t=a[i],this.factories.set(i,t),e(t)):s(`cannot find ${i} in module ${n}`)}):s(`cannot find ${i} in modules`)}}else e(t)})}static matchesSplitted(t,e=document){const s=new Map,i=[];t.forEach((o,a)=>{const u=(Array.isArray(o)?o[2]:o.meta.selector).split(",").map(f=>f.trim());i.push(...u.map(f=>({factory:o,selector:f})))});const n=function(o){i.forEach(function(a){o.matches(a.selector)&&(s.has(o)||s.set(o,[]),s.get(o).push({factory:a.factory,selector:a.selector}))})};function r(o){o&&(n(o),r(o.nextElementSibling),r(o.firstElementChild))}return"matches"in e&&n(e),r(e.firstElementChild),$.stats(`matchesSplitted ${s.size}`),s}static matchesAttributes(t,e=document){const s=new Map,i=[];t.forEach((o,a)=>{const u=(Array.isArray(o)?o[2]:o.meta.selector).split(",").map(f=>f.replace(/\[|\]/g,"").trim());i.push(...u.map(f=>({factory:o,selector:f})))});const n=function(o){i.forEach(function(a){o.hasAttribute(a.selector)&&(s.has(o)||s.set(o,[]),s.get(o).push({factory:a.factory,selector:a.selector}))})};function r(o){o&&(n(o),r(o.nextElementSibling),r(o.firstElementChild))}return"hasAttribute"in e&&n(e),r(e.firstElementChild),$.stats(`matchesAttributes ${s.size}`),s}static treeWalkerAttributes(t,e=document){const s=new Map,i=[];t.forEach((a,c)=>{const f=(Array.isArray(a)?a[2]:a.meta.selector).split(",").map(g=>g.replace(/\[|\]/g,"").trim());i.push(...f.map(g=>({factory:a,selector:g})))});const n=function(a){i.forEach(function(c){a.hasAttribute(c.selector)&&(s.has(a)||s.set(a,[]),s.get(a).push({factory:c.factory,selector:c.selector}))})};"hasAttribute"in e&&n(e);const r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);let o=r.nextNode();for(;o;)n(o),o=r.nextNode();return $.stats(`treeWalkerAttributes ${s.size}`),s}static treeWalkerMatches(t,e=document){const s=new Map,i=[];t.forEach((a,c)=>{const f=(Array.isArray(a)?a[2]:a.meta.selector).split(",").map(g=>g.trim());i.push(...f.map(g=>({factory:a,selector:g})))});const n=function(a){i.forEach(function(c){a.matches(c.selector)&&(s.has(a)||s.set(a,[]),s.get(a).push({factory:c.factory,selector:c.selector}))})};"matches"in e&&n(e);const r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);let o=r.nextNode();for(;o;)n(o),o=r.nextNode();return $.stats(`treeWalkerMatches ${s.size}`),s}static querySelectorAll(t,e=document){const s=new Map,i=t.map(n=>Array.isArray(n)?n[2]:n.meta.selector);return i.forEach(function(n,r){e.querySelectorAll(n).forEach(a=>{s.has(a)||s.set(a,[]),s.get(a).push({factory:t[r],selector:n})})}),"matches"in e&&i.forEach(function(n,r){e.match(n)&&(s.has(e)||s.set(e,[]),s.get(e).push({factory:t[r],selector:n}))}),$.stats(`querySelectorAll ${s.size}`),s}static matchesUnsplitted(t,e=document){const s=new Map,i=t.map(o=>Array.isArray(o)?o[2]:o.meta.selector),n=function(o){i.forEach(function(a,c){o.matches(a)&&(s.has(o)||s.set(o,[]),s.get(o).push({factory:t[c],selector:a}))})};function r(o){o&&(n(o),r(o.nextElementSibling),r(o.firstElementChild))}return"matches"in e&&n(e),r(e.firstElementChild),$.stats(`matchesUnsplitted ${s.size}`),s}static register$(t,e=document){if(this.instances.has(e))throw"node already registered";const s=[];this.instances.set(e,s);const i=new A;let n;n=$.matchesUnsplitted(t,e);const r=Array.from(n.keys()),o=a=>{n.has(a)&&n.get(a).forEach(u=>{this.getFactory(u.factory).then(f=>{const g=new f.prototype.constructor(a,u.selector);s.push(g),i.next(s.slice())})})};if("IntersectionObserver"in window){const a={root:e,rootMargin:"50px",threshold:[.01,.99]},c=new IntersectionObserver((u,f)=>{u.forEach(g=>{g.isIntersecting&&(o(g.target),f.unobserve(g.target))})},a);r.forEach(u=>{c.observe(u)}),this.observers.set(e,c)}else r.forEach(a=>{o(a)});return i}static register$_1(t,e=document){if(this.instances.has(e))throw"node already registered";const s=[];this.instances.set(e,s);const i=new A,n=this.match_1(t,e),r=n.map(a=>a.node),o=a=>{n.forEach(c=>{c.node===a&&this.getFactory(c.factory).then(u=>{const f=new u.prototype.constructor(a,c.match);s.push(f),i.next(s.slice())})})};if("IntersectionObserver"in window){const a={root:e,rootMargin:"50px",threshold:[.01,.99]},c=new IntersectionObserver((u,f)=>{u.forEach(g=>{g.isIntersecting&&(o(g.target),f.unobserve(g.target))})},a);r.forEach(u=>{c.observe(u)}),this.observers.set(e,c)}else r.forEach(a=>{o(a)});return i}static register$_2(t,e=document){if(this.instances.has(e))throw"node already registered";const s=[];this.instances.set(e,s);const i=new A,n=[],r=t.map(a=>{let c;Array.isArray(a)?c=a[2]:c=a.meta.selector;const u=Array.prototype.slice.call(e.querySelectorAll(c));return"matches"in e&&e.matches(c)&&u.push(e),u.forEach(f=>{n.indexOf(f)===-1&&n.push(f)}),{factory:a,nodes:u}}).filter(a=>a.nodes.length>0),o=a=>{r.filter(u=>u.nodes.indexOf(a)!==-1).forEach(u=>{this.getFactory(u.factory).then(f=>{const g=new f.prototype.constructor(a);s.push(g),i.next(s.slice())})})};if("IntersectionObserver"in window){const a={root:e,rootMargin:"50px",threshold:[.01,.99]},c=new IntersectionObserver((u,f)=>{u.forEach(g=>{g.isIntersecting&&(o(g.target),f.unobserve(g.target))})},a);n.forEach(u=>{c.observe(u)}),this.observers.set(e,c)}else n.forEach(a=>{o(a)});return i}static unregister(t=document){this.observers.has(t)&&(this.observers.get(t).disconnect(),this.observers.delete(t)),this.instances.has(t)&&(this.instances.get(t).forEach(s=>s.destroy()),this.instances.delete(t)),this.states.has(t)&&this.states.delete(t)}static registeredInstances(t=document){return this.instances.has(t)?this.instances.get(t):[]}static create(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}static stats(t){}};let b=$;h(b,"observers",new Map),h(b,"instances",new Map),h(b,"factories",new Map),h(b,"states",new Map);const Q=class{static send(t,e,s,i){Q.event$.next({type:t,data:e,node:s,event:i})}static bubble$(t){return this.event$.pipe(I(e=>e.node&&t.contains(e.node)))}static filter$(t,e){return e=Array.isArray(e)?e:[e],this.event$.pipe(I(s=>e.indexOf(s.type)!==-1&&s.node&&t.contains(s.node)))}};let O=Q;h(O,"event$",new A);const D={Popup:"popup",Info:"info",Alert:"alert",Dialog:"dialog",Sidebar:"sidebar"},Gt={Centered:"centered",TopLeft:"top-left",Top:"top",TopRight:"top-right",Right:"right",BottomRight:"bottom-right",Bottom:"bottom",BottomLeft:"bottom-left",Left:"left"};class lt{constructor(t){this.data=t}}class Jt extends lt{}class Qt extends lt{}class S{static open$(t){switch(t.id=new Date().getTime(),t.type=t.type||D.Popup,t.position=t.position||Gt.Centered,t.type){case D.Alert:t.acceptMessage=t.acceptMessage||"Ok";break;case D.Dialog:t.acceptMessage=t.acceptMessage||"Accept",t.rejectMessage=t.rejectMessage||"Reject";break}return this.busy$.next(!0),this.getTemplate$(t).pipe(_(e=>({node:this.getNode(e),data:t.data,modal:t})),p(e=>{this.modal$.next(e),t.type===D.Info&&setTimeout(()=>{this.resolve(t.data)},t.duration||4e3),this.hasModal=!0,this.busy$.next(!1)}),R(e=>this.events$),p(e=>this.hasModal=!1))}static load$(t){}static getTemplate$(t){return t.src?Pt(fetch(t.src).then(e=>e.text())):t.template?N(t.template):q}static getNode(t){return new DOMParser().parseFromString(t,"text/html").body.firstElementChild}static reject(t){this.modal$.next(null),this.events$.next(new Qt(t))}static resolve(t){this.modal$.next(null),this.events$.next(new Jt(t))}}h(S,"hasModal",!1);S.modal$=new A;S.events$=new A;S.busy$=new A;class ct extends b{onInit(){console.log("AppComponent.onInit"),this.randomItems(),this.modal$().pipe(y(this.unsubscribe$)).subscribe()}randomItems(){const t=5+Math.floor(Math.random()*40);this.state.items=new Array(t).fill(0).map((e,s)=>({title:String.fromCharCode(65+s)}))}modal$(){return O.bubble$(this.node).pipe(p(t=>{switch(t.type){case"modal":S.open$({src:"/vite-config/generic-modal.html"}).pipe(it(),y(this.unsubscribe$)).subscribe(e=>{console.log(e)});break;case"random":this.randomItems();break}}))}}h(ct,"meta",{selector:"[app]"});class ht extends b{get modal(){return this.modal_}get busy(){return this.busy_}set busy(t){this.busy_!==t&&(this.busy_=t,this.updateClassList())}onInit(){this.lastModal_=null;const t=this.node;t.innerHTML=`
		<div class="modal-outlet__container">
			<div class="modal-outlet__background" event="close"></div>
			<div class="modal-outlet__modal"></div>
			<div class="spinner spinner--contrasted"></div>
		</div>
		`,this.modalNode=t.querySelector(".modal-outlet__modal"),this.containerNode=t.querySelector(".modal-outlet__container"),window.registerApp$(this.containerNode).subscribe(),this.listeners$().pipe(y(this.unsubscribe$)).subscribe(),t.modalOutlet__=this}listeners$(){return w(this.modal$(),this.busy$(),this.event$())}modal$(){return S.modal$.pipe(p(t=>{const e=this.modal_;if(e&&e.node&&b.unregister(e.node),this.modal_=t,t&&t.node){const s=this.lastModal_;s&&this.modalNode.removeChild(s.node),this.modalNode.appendChild(t.node),window.registerApp$(t.node).subscribe(),this.lastModal_=t,this.updateClassList()}else this.updateClassList()}))}busy$(){return S.busy$.pipe(p(t=>this.busy=t))}event$(){return O.filter$(this.node,"close").pipe(p(t=>{S.reject()}))}getClassList(){const t={"modal-outlet__container":!0,busy:this.busy_===!0,active:this.modal_!=null},e=this.lastModal_;return e&&(t[e.modal.type]=!0,t[e.modal.position]=!0),Object.keys(t).filter(s=>t[s]===!0).join(" ")}updateClassList(){const t=this.getClassList();this.containerNode.setAttribute("class",t)}static getModalOutlet(t){let e=null,s=t.parentNode;for(;s;)s.modalOutlet__&&(e=s.modalOutlet__),s=e?null:s.parentNode;return e}}h(ht,"meta",{selector:"[modal-outlet]"});class M{constructor(){this.x=0,this.y=0}}class B{constructor(t){t&&Object.assign(this,t)}}class ut extends B{constructor(t){super(t);this.distance=new M,this.strength=new M,this.speed=new M}}class dt extends B{constructor(t){super(t);this.distance=new M,this.strength=new M,this.speed=new M}}class pt extends B{constructor(t){super(t)}}class te{static getPosition(t,e){return"MouseEvent"in window&&t instanceof MouseEvent?e?(e.x=t.clientX,e.y=t.clientY):e={x:t.clientX,y:t.clientY}:"TouchEvent"in window&&t instanceof TouchEvent&&t.touches.length>0&&(e?(e.x=t.touches[0].pageX,e.y=t.touches[0].pageY):e={x:t.touches[0].pageX,y:t.touches[0].pageY}),e}static down$(t,e){let s;return w(m(t,"mousedown"),m(t,"touchstart")).pipe(_(i=>{if(s=s||new ut,s.node=t,s.target=i.target,s.originalEvent=i,s.down=this.getPosition(i,s.down),s.down)return s.distance=new M,s.strength=new M,s.speed=new M,e.next(s),s}),I(i=>i!==void 0))}static move$(t,e,s,i){let n;return m(document,i.originalEvent instanceof MouseEvent?"mousemove":"touchmove").pipe(U(i),_(r=>{if(n=n||new dt,n.node=t,n.target=r.target,n.originalEvent=r,n.position=this.getPosition(r,n.position),i.down!==void 0&&n.position!==void 0)return n.distance.x=n.position.x-i.down.x,n.distance.y=n.position.y-i.down.y,n.strength.x=n.distance.x/window.innerWidth*2,n.strength.y=n.distance.y/window.innerHeight*2,n.speed.x=i.speed.x+(n.strength.x-i.strength.x)*.1,n.speed.y=i.speed.y+(n.strength.y-i.strength.y)*.1,i.distance.x=n.distance.x,i.distance.y=n.distance.y,i.speed.x=n.speed.x,i.speed.y=n.speed.y,i.strength.x=n.strength.x,i.strength.y=n.strength.y,e.next(n),n}))}static up$(t,e,s,i){let n;return m(document,i.originalEvent instanceof MouseEvent?"mouseup":"touchend").pipe(_(r=>(n=n||new pt,e.next(n),s.next(),Math.abs(i.distance.x)>10&&(r.preventDefault(),r.stopImmediatePropagation()),n)))}static events$(t){t=t||document;const e=new nt(1),s=new A;return this.down$(t,e).pipe(R(i=>w(this.move$(t,e,s,i),this.up$(t,e,s,i)).pipe(y(s))),R(()=>e))}}class ft{static keydown$(){return this.keydown$_||(this.keydown$_=m(window,"keydown").pipe(E(1))),this.keydown$_}static keyup$(){return this.keyup$_||(this.keyup$_=m(window,"keyup").pipe(E(1))),this.keyup$_}static keys$(){return this.keys$_||(this.keys$_=w(this.keydown$(),this.keyup$()).pipe(_(t=>{const e=this.keys;return t.type==="keydown"?e[t.key]=!0:delete e[t.key],this.keys}),U(this.keys),E(1))),this.keys$_}static key$(){if(!this.key$_){const t=/\w/;this.key$_=this.keydown$().pipe(I(e=>e.key&&e.key.match(t)),_(e=>e.key),E(1))}return this.key$_}static typing$(){if(!this.typing$_){let t="",e;this.typing$_=this.key$().pipe(_(s=>(e&&clearTimeout(e),t+=s,e=setTimeout(()=>{t=""},1500),t)),E(1))}return this.typing$_}}h(ft,"keys",{});class gt extends b{get items(){return this.items_||[]}set items(t){this.items_!==t&&(this.items_=t)}get current(){return this.current_}set current(t=0){this.current_!==t&&(this.current_=t,this.items.forEach((e,s)=>{s===t?e.node.classList.add("active"):e.node.classList.remove("active")}),t===0?this.node.classList.add("first"):this.node.classList.remove("first"),t>=this.items.length-1?this.node.classList.add("last"):this.node.classList.remove("last"),this.updatePosition(),this.current$.next(t))}get currentLabel(){return this.current+1}get totalLabel(){return this.items.length}get wrapperStyle(){return{transform:"translate3d("+-100*this.current_+"%, 0, 0)"}}get innerStyle(){return{width:100*this.items.length+"%"}}get isInViewport(){return this.rect&&this.rect.top<window.innerHeight&&this.rect.bottom>0}setWrapperX(t){this.wrapper.style.transform=`translate3d(${t}px, 0, 0)`}getTranslation(t,e){let s=0,i=0,n=0;const r=t.style.transform;if(r){const o=r.split("(")[1].split(")")[0].split(",");s=parseFloat(o[0]),i=parseFloat(o[1]),n=parseFloat(o[2]),s=o[0].indexOf("%")!==-1?s*=e.offsetWidth*.01:s,i=o[1].indexOf("%")!==-1?i*=e.offsetHeight*.01:i}return{x:s,y:i,z:n}}onInit(){const t=this.node,e=this.options={autoplay:!1,centered:!1,wheel:!1,keyboard:!0,slidePerView:1,gutter:0};t.hasAttribute("autoplay")&&(e.autoplay=!0),t.hasAttribute("centered")&&(e.centered=!0),t.hasAttribute("wheel")&&(e.wheel=!0),this.container=t,this.wrapper=t.querySelector(".slider__wrapper"),this.inner=t.querySelector(".slider__inner"),this.items=Array.prototype.slice.call(t.querySelectorAll(".slider__slide")).map((s,i)=>({node:s})),this.current$=new T(this.current_),this.userGesture$=new A,setTimeout(()=>{this.onInitSlider()},1),t.slider=this}onInitSlider(){this.listeners$().pipe(y(this.unsubscribe$)).subscribe(),this.current=0}listeners$(){return w(this.resize$(),this.scroll$(),this.keyboard$(),this.wheel$(),this.slider$(),this.autoplay$(),this.prev$(),this.next$())}slider$(){let t,e,s;const i=this.node,n=this.wrapper;return te.events$(n).pipe(p(r=>{r instanceof ut?(t=this.getTranslation(n,i),e=r):r instanceof dt?s=this.onDragMoveEvent(e,r,t):r instanceof pt&&s&&this.onDragUpEvent(e,s)}))}onDragMoveEvent(t,e,s){this.container.classList.add("dragging");const i=s.x+e.distance.x;return this.setWrapperX(i),e}onDragUpEvent(t,e){this.container.classList.remove("dragging"),this.wrapper.style.transform=null;const s=this.container.offsetWidth;e.distance.x*-1>s*.25&&this.hasNext()?this.navTo(this.current+1):e.distance.x*-1<s*-.25&&this.hasPrev()?this.navTo(this.current-1):this.setWrapperX(this.current*this.rect.width*-1)}updateItems(){const t=this.node,e=this.wrapper,s=this.rect,i=this.options;t.classList.add("dragging"),e.style.transform=null,this.to_&&clearTimeout(this.to_),this.items.forEach((n,r)=>{const o=n.node;if(i.slidePerView!=="auto"){const a=i.slidePerView,c=i.gutter,u=(s.width-c*(Math.floor(a)-1))/a;o.style.width=`${u}px`;const f=o.getBoundingClientRect();n.left=(u+c)*r,n.width=u,n.top=f.top-s.top,n.height=f.height}else{const a=o.getBoundingClientRect();n.left=a.left-s.left,n.width=a.width,n.top=a.top-s.top,n.height=a.height}}),this.updatePosition(),this.to_=setTimeout(()=>{t.classList.remove("dragging")},150)}updatePosition(){const t=this.current_,e=this.rect,s=this.items[t],i=this.options;if(s){const n=i.centered?(s.width-e.width)/2:0,r=(s.left+n)*-1;this.setWrapperX(r),console.log("SliderComponent.updatePosition",t,r,n,s.left,e.width,s.width)}}resize$(){const t=this.node;return m(window,"resize").pipe(U(!0),p(e=>{const s=t.getBoundingClientRect();this.rect=s,this.updateItems()}))}scroll$(){const t=this.node;return m(window,"scroll").pipe(p(e=>{const s=t.getBoundingClientRect();this.rect=s}))}keyboard$(){const t=this.options;return ft.keys$().pipe(I(e=>t.keyboard&&this.isInViewport),p(e=>{e.ArrowRight&&this.hasNext()&&this.navTo(this.current+1),e.ArrowLeft&&this.hasPrev()&&this.navTo(this.current-1)}))}wheel$(){const t=this.node,e=this.options;return m(window,"wheel",{passive:!1}).pipe(I(s=>e.wheel&&this.isInViewport),_(s=>{let i=s.deltaY;const n=t.getBoundingClientRect(),r=n.top+n.height/2-window.innerHeight/2;if(i>0){if(this.hasNext()&&(s.preventDefault(),r>10)){const o=Math.abs(r),a=Math.min(o,i);window.scrollTo(0,window.pageYOffset+a),i=0}}else if(i<0&&this.hasPrev()&&(s.preventDefault(),r<10)){const o=Math.abs(r),a=Math.min(o,Math.abs(i));window.scrollTo(0,window.pageYOffset-a),i=0}return i}),zt(500),p(s=>{s>0&&this.hasNext()&&this.navTo(this.current+1),s<0&&this.hasPrev()&&this.navTo(this.current-1)}))}autoplay$(){const t=this.options;if(t.autoplay){const e=typeof t.autoplay=="number"?t.autoplay:4e3;return Ft(e).pipe(y(this.userGesture$),p(()=>{this.current=(this.current+1)%this.items.length}))}else return N(null)}prev$(){const e=this.node.querySelector(".btn--prev");return e?m(e,"click").pipe(p(s=>{console.log("prev"),this.hasPrev()&&this.navTo(this.current-1)})):q}next$(){const e=this.node.querySelector(".btn--next");return e?m(e,"click").pipe(p(s=>{console.log("next"),this.hasNext()&&this.navTo(this.current+1)})):q}navTo(t){this.current=t,this.userGesture$.next()}hasPrev(){return this.current-1>=0}hasNext(){return this.current+1<this.items.length}setPercent(t){t=Math.max(0,Math.min(1,t+1/this.items.length*.5));const e=Math.min(this.items.length-1,Math.floor(this.items.length*t));this.current_!==e&&(this.current=e,this.userGesture$.next())}}h(gt,"meta",{selector:"[slider]"});const ee=[gt,ht],se=["action","align","allow","alt","autoplay","background","bgcolor","border","checked","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","csp","data","datetime","decoding","default","defer","dir","dirname","disabled","download","draggable","enctype","enterkeyhint","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","importance","integrity","intrinsicsize","inputmode","ismap","itemprop","keytype","kind","label","lang","language","loading","list","loop","low","max","maxlength","minlength","media","method","min","multiple","muted","name","novalidate","pattern","placeholder","poster","preload","radiogroup","readonly","rel","required","reversed","rows","rowspan","selected","span","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","type","value","width","wrap"];class mt extends b{onInit(){const t=this.node,e=b.getExpression(t.getAttribute("attrs"));this.state$.subscribe(s=>{const i=e(s);Object.keys(i).forEach(n=>{se.indexOf(n)!==-1&&t.setAttribute(n,i[n])})})}}h(mt,"meta",{selector:"[xattrs],[data-attrs]"});class bt extends b{onInit(){const t=this.node,e=this.initialKeys=[];Array.prototype.slice.call(t.classList).forEach(i=>{e.push(i)});const s=b.getExpression(t.getAttribute("xclass")||t.getAttribute("data-class"));this.state$.subscribe(i=>{const n=s(i);let r=[];if(typeof n=="object")for(let o in n)n[o]&&r.push(o);else typeof n=="string"&&(r=n.split(/\s+/));r=r.concat(this.initialKeys),t.setAttribute("class",r.join(" "))})}}h(bt,"meta",{selector:"[xclass],[data-class]"});const K=["event","click","dblclick","mouseover","mouseout","mouseenter","mouseleave","mousedown","mouseup","mousemove","contextmenu","touchstart","touchmove","touchend","keydown","keyup","input","change","loaded"];class yt extends b{onInit(){this.event$().pipe(y(this.unsubscribe$)).subscribe()}event$(){const t=this.node,e=K.filter(s=>t.hasAttribute(s)||t.hasAttribute(`data-${s}`));return w(...e.map(s=>m(t,s==="event"?"click":s).pipe(p(n=>{const r=t.getAttribute(s)!==""?t.getAttribute(s):"event",o=t.getAttribute("event-data")!==""?JSON.parse(t.getAttribute("event-data")):null;O.send(r,o,t,n)}))))}}h(yt,"meta",{selector:`[${K.join("],[")}],[data-${K.join("],[")}]`});const tt=class extends b{updateItems(t=[]){const e=this.clonedNode,s=this.tokens,i=Array.isArray(t),n=i?t:Object.keys(t),r=n.length,o=this.nodes.length,a=Math.max(o,r);for(let c=0;c<a;c++)if(c<r){const u=i?c:n[c],f=i?n[u]:t[u];if(c<o){const g=this.states[c];g[s.key]=u,g[s.value]=f}else{const g=e.cloneNode(!0),z=b.newState(g);z[s.key]=u,z[s.value]=f,this.ref.parentNode.insertBefore(g,this.ref),window.registerApp$(g).subscribe(),this.nodes.push(g),this.states.push(z)}}else{const u=this.nodes[c];u.remove(),b.unregister(u)}this.nodes.length=n.length,this.states.length=n.length}onInit(){this.clonedNode=this.node.cloneNode(!0),this.clonedNode.removeAttribute("xfor"),this.clonedNode.removeAttribute("data-for");const t=this.ref=document.createComment("for"),e=this.node;this.node=t,this.template=e,e.before(t);const s=this.tokens=tt.getEachExpressionTokens(e.getAttribute("xfor")||e.getAttribute("data-for"));e.remove(),this.nodes=[],this.states=[];const i=b.getExpression(s.iterable);this.state$.subscribe(n=>{const r=i(n);this.updateItems(r)})}static getEachExpressionTokens(t){if(t===null)throw new Error("invalid each");if(t.trim().indexOf("let ")===-1||t.trim().indexOf(" of ")===-1)throw new Error("invalid each");const e=t.split(";").map(a=>a.trim()).filter(a=>a!==""),s=e[0].split(" of ").map(a=>a.trim());let i=s[0].replace(/\s*let\s*/,"");const n=s[1];let r="index";const o=i.match(/\[(.+)\s*,\s*(.+)\]/);if(o&&(r=o[1],i=o[2]),e.length>1){const a=e[1].split(/\s*let\s*|\s*=\s*index/).map(c=>c.trim());a.length===3&&(r=a[1])}return{key:r,value:i,iterable:n}}};let Y=tt;h(Y,"meta",{selector:"[xfor],[data-for]"});class wt extends b{set innerHTML(t){if(this.innerHTML_!==t){this.innerHTML_=t;const e=this.node;e.innerHTML=t==null?"":t}}get innerHTML(){return this.innerHTML_}onInit(){const t=b.getExpression(this.node.getAttribute("xhtml")||this.node.getAttribute("data-html"));this.state$.subscribe(e=>{this.innerHTML=t(e)})}}h(wt,"meta",{selector:"[xhtml],[data-html]"});class vt extends b{constructor(){super(...arguments);h(this,"flag_",!0)}get flag(){return this.flag_}set flag(t){if(this.flag_!==t)if(this.flag_=t,t){const e=this.template.cloneNode(!0);this.clonedNode=e,this.ref.after(e),window.registerApp$(e).subscribe()}else this.clonedNode&&(this.clonedNode.remove(),this.clonedNode=null),b.unregister(this.template)}onInit(){const t=this.node;this.template=t.cloneNode(!0),this.template.removeAttribute("xif"),this.template.removeAttribute("data-if");const e=this.ref=document.createComment("if");t.before(e),t.remove(),this.node=e,this.originalNode=t;const s=b.getExpression(t.getAttribute("xif")||t.getAttribute("data-if"));this.state$.subscribe(i=>{this.flag=s(i)})}}h(vt,"meta",{selector:"[xif],[data-if]"});class $t extends b{onInit(){const t=this.node,e=b.getExpression(t.getAttribute("xstyle")||t.getAttribute("data-style"));this.state$.subscribe(s=>{const i=e(s),n=this.previousStyle;if(n){for(let r in n)if(!i||!i[r]){const a=r.split(".").shift();t.style.removeProperty(a)}}if(i){for(let r in i)if(!n||n[r]!==i[r]){const o=r.split("."),a=o.shift(),c=i[r]+(o.length?o[0]:"");t.style.setProperty(a,c)}}this.previousStyle=i})}}h($t,"meta",{selector:"[xstyle],[data-style]"});const ie=[mt,bt,yt,Y,wt,vt,$t],d={Pending:"pending",Valid:"valid",Invalid:"invalid",Disabled:"disabled",Readonly:"readonly",Hidden:"hidden"};class X{constructor(t=null){h(this,"errors_");h(this,"name");h(this,"value_",null);h(this,"submitted_",!1);h(this,"touched_",!1);h(this,"dirty_",!1);h(this,"status");h(this,"validators");h(this,"valueSubject",new T(null));h(this,"statusSubject",new T(null));h(this,"validatorsSubject",new nt(1).pipe(rt()));h(this,"value$",this.valueSubject.pipe(Ht(),Ut(1),p(()=>{this.submitted_=!1,this.dirty_=!0,this.statusSubject.next(null)}),E(1)));h(this,"status$",w(this.statusSubject,this.validatorsSubject).pipe(R(()=>this.validate$(this.value)),E(1)));h(this,"changes$",w(this.value$,this.status$).pipe(_(()=>this.value),Wt(1),E(1)));this.validators=t?Array.isArray(t)?t:[t]:[]}get errors(){return this.errors_}set errors(t){this.errors_=t}initSubjects_(){this.switchValidators_()}switchValidators_(){const t=this.validators.map(s=>s.params$);let e=t.length?W(t):N(t);this.validatorsSubject.next(e)}initObservables_(){}validate$(t){return this.status===d.Disabled||this.status===d.Readonly||this.status===d.Hidden||this.submitted_||!this.validators.length?(this.errors_={},this.status===d.Invalid&&(this.status=d.Valid),N(this.errors_)):W(this.validators.map(e=>{let s=e.validate(t);return Bt(s)?s:N(s)})).pipe(_(e=>(this.errors_=Object.assign({},...e),this.status=Object.keys(this.errors_).length===0?d.Valid:d.Invalid,this.errors_)))}get pending(){return this.status===d.Pending}get valid(){return this.status!==d.Invalid}get invalid(){return this.status===d.Invalid}get disabled(){return this.status===d.Disabled}get enabled(){return this.status!==d.Disabled}get readonly(){return this.status===d.Readonly}get writeable(){return this.status!==d.Disabled&&this.status!==d.Readonly}get hidden(){return this.status===d.Hidden}get visible(){return this.status!==d.Hidden}get submitted(){return this.submitted_}get dirty(){return this.dirty_}get pristine(){return!this.dirty_}get touched(){return this.touched_}get untouched(){return!this.touched_}set disabled(t){t?this.status!==d.Disabled&&(this.status=d.Disabled,this.dirty_=!1,this.touched_=!1,this.submitted_=!1,this.statusSubject.next(null)):this.status===d.Disabled&&(this.status=d.Pending,this.dirty_=!1,this.touched_=!1,this.submitted_=!1,this.statusSubject.next(null))}set readonly(t){t?this.status!==d.Readonly&&(this.status=d.Readonly,this.dirty_=!1,this.touched_=!1,this.submitted_=!1,this.statusSubject.next(null)):this.status===d.Readonly&&(this.status=d.Pending,this.dirty_=!1,this.touched_=!1,this.submitted_=!1,this.statusSubject.next(null))}get flags(){return{untouched:this.untouched,touched:this.touched,pristine:this.pristine,dirty:this.dirty,pending:this.pending,enabled:this.enabled,disabled:this.disabled,readonly:this.readonly,writeable:this.writeable,hidden:this.hidden,visible:this.visible,valid:this.valid,invalid:this.invalid,submitted:this.submitted}}set hidden(t){t?this.status!==d.Hidden&&(this.status=d.Hidden,this.dirty_=!1,this.touched_=!1,this.submitted_=!1,this.statusSubject.next(null)):this.status===d.Hidden&&(this.status=d.Pending,this.dirty_=!1,this.touched_=!1,this.submitted_=!1,this.statusSubject.next(null))}set submitted(t){this.submitted_=t,this.statusSubject.next(null)}set touched(t){this.touched_=t,this.statusSubject.next(null)}get value(){return this.value_}set value(t){this.value_=t,this.valueSubject.next(t)}reset(t=null){this.status=t||d.Pending,this.value_=null,this.dirty_=!1,this.touched_=!1,this.submitted_=!1,this.statusSubject.next(null)}patch(t){this.value_=t,this.dirty_=!0,this.submitted_=!1,this.statusSubject.next(null)}addValidators(...t){this.validators.push(...t),this.switchValidators_()}replaceValidators(...t){this.validators=t,this.switchValidators_()}clearValidators(){this.validators=[],this.switchValidators_()}}class v extends X{constructor(t=null,e=null,s=null){super(e);this.value_=t,(s==null?void 0:s.disabled)?this.status=d.Disabled:(s==null?void 0:s.readonly)?this.status=d.Readonly:(s==null?void 0:s.hidden)?this.status=d.Hidden:this.status=d.Pending,this.errors={},this.initSubjects_(),this.initObservables_(),this.statusSubject.next(null)}}class ne extends X{constructor(t=null,e=null){super(e);h(this,"controls");h(this,"changesChildren",new T(void 0));this.controls=t,this.initControls_(),this.initSubjects_(),this.initObservables_()}initControl_(t,e){const s=t instanceof X?t:new v(t);return s.addValidators(...this.validators),s.name=e,s}initControls_(){return this.forEach_((t,e)=>{this.init(t,e)}),this.controls}initSubjects_(){this.changesChildren=this.changesChildren.pipe(rt()),this.switchSubjects_()}switchSubjects_(){const t=this.reduce_((s,i)=>(s.push(i.changes$),s),[]);let e=t.length?W(t):N(t);this.changesChildren.next(e)}initObservables_(){this.changes$=this.changesChildren.pipe(_(()=>this.value),E(1))}validate(t){let e;if(this.status===d.Disabled||this.status===d.Readonly||this.status===d.Hidden)e=[];else{let s=this.validators.map(i=>i.validate(t)).filter(i=>i!==null);e=this.reduce_((i,n)=>i.concat(n.errors),s),this.status=e.length===0?d.Valid:d.Invalid}return e}forEach_(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}reduce_(t,e){return this.forEach_((s,i)=>{e=t(e,s,i)}),e}all_(t,e){return this.reduce_((s,i)=>s&&i[t]===e,!0)}any_(t,e){return this.reduce_((s,i)=>s||i[t]===e,!1)}get valid(){return this.all_("valid",!0)}get invalid(){return this.any_("invalid",!0)}get pending(){return this.any_("pending",!0)}get disabled(){return this.all_("disabled",!0)}get enabled(){return this.any_("enabled",!0)}get readonly(){return this.any_("readonly",!0)}get writeable(){return this.any_("writeable",!0)}get hidden(){return this.all_("hidden",!0)}get visible(){return this.any_("visible",!0)}get submitted(){return this.all_("submitted",!0)}get dirty(){return this.any_("dirty",!0)}get pristine(){return this.all_("pristine",!0)}get touched(){return this.all_("touched",!0)}get untouched(){return this.any_("untouched",!0)}set disabled(t){this.forEach_(e=>{e.disabled=t})}set readonly(t){this.forEach_(e=>{e.readonly=t})}set hidden(t){this.forEach_(e=>{e.hidden=t})}set submitted(t){this.forEach_(e=>{e.submitted=t})}set touched(t){this.forEach_(e=>{e.touched=t})}get value(){return this.reduce_((t,e,s)=>(t[s]=e.value,t),{})}set value(t){this.forEach_((e,s)=>{e.value=t[s]})}get errors(){return this.reduce_((t,e)=>Object.assign(t,e.errors),{})}set errors(t){}reset(){this.forEach_(t=>t.reset())}patch(t){t&&this.forEach_((e,s)=>{t[s]!=null&&e.patch(t[s])})}init(t,e){this.controls[e]=this.initControl_(t,e)}get(t){return this.controls[t]}set(t,e){delete this.controls[e],this.controls[e]=this.initControl_(t,e),this.switchSubjects_()}add(t,e){this.controls[e]=this.initControl_(t,e),this.switchSubjects_()}remove(t){const e=Object.keys(this.controls).find(s=>this.controls[s]===t?s:null);e&&this.removeKey(e)}removeKey(t){const e=this.controls[t]!==void 0;delete this.controls[t],e&&this.switchSubjects_()}addValidators(...t){this.forEach_(e=>e.addValidators(...t))}replaceValidators(...t){this.forEach_(e=>e.replaceValidators(...t))}clearValidators(){this.forEach_(t=>t.clearValidators())}}class re extends ne{constructor(t={},e=null){super(t,e)}}class k{constructor(t,e=null){h(this,"validator");h(this,"params$");this.validator=t,this.params$=new T(e)}get params(){return this.params$.getValue()}set params(t){if(t){const e=this.params;Object.keys(t).reduce((i,n)=>i||!e||e[n]!==t[n],!1)&&this.params$.next(t)}}validate(t){return this.validator(t,this.params)}}function oe(){return new k(function(l,t=null){return null})}function ae(){return new k(function(l,t=null){return l==null||l.length===0?{required:!0}:null})}function le(){return new k(function(l,t=null){return l===!0?null:{required:!0}})}function ce(l,t,e){return new k(function(s){let i=null;return typeof t=="function"?i=t().get(l):t&&(i=t.get(l)),!s&&i&&(e!=null?i.value===e:i.value!=null)?{required:{value:s,requiredIf:l}}:null})}function he(l){return new k(function(t,e=null){const s=e.min;return!t||!s?null:(t=parseFloat(t),!isNaN(t)&&t<s?{min:{min:s,actual:t}}:null)},{min:l})}function ue(l){return new k(function(t,e=null){const s=e.max;return!t||!s?null:(t=parseFloat(t),!isNaN(t)&&t>s?{max:{max:s,actual:t}}:null)},{max:l})}function de(l){return new k(function(t,e=null){const s=e.minlength;if(!t||!s)return null;const i=t?t.length:0;return i<s?{minlength:{requiredLength:s,actualLength:i}}:null},{minlength:l})}function pe(l){return new k(function(t,e=null){const s=e.maxlength;if(!t||!s)return null;const i=t?t.length:0;return i>s?{minlength:{requiredLength:s,actualLength:i}}:null},{maxlength:l})}function fe(l){return new k(function(t,e=null){const s=e.pattern;if(!t||!s)return null;const i=me(s);return i.test(t)?null:{pattern:{requiredPattern:i.toString(),actualValue:t}}},{pattern:l})}function ge(){const l=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;return new k(function(t,e=null){return t?l.test(t)?null:{email:!0}:null})}function me(l){let t;return l instanceof RegExp?t=l:typeof l=="string"&&(l=l.charAt(0)==="^"?l:`^${l}`,l=l.charAt(l.length-1)==="$"?l:`${l}$`,t=new RegExp(l)),t||new RegExp("")}const x={NullValidator:oe,RequiredValidator:ae,RequiredTrueValidator:le,RequiredIfValidator:ce,MinValidator:he,MaxValidator:ue,MinLengthValidator:de,MaxLengthValidator:pe,PatternValidator:fe,EmailValidator:ge},_t={InferData:"infer",ApiData:"api"};class xt extends b{onInit(){const t=this.strategy=this.node.getAttribute("strategy")||_t.InferData;this.error=null,this.success=!1,this.state.error=!0,this.state.mode="idle";const e=this.form=new re({firstName:new v(null,[x.RequiredValidator()]),lastName:new v(null,[x.RequiredValidator()]),email:new v(null,[x.RequiredValidator(),x.EmailValidator()]),telephone:new v(null),job:new v(null),company:new v(null),city:new v(null,[x.RequiredValidator()]),country:new v(null,[x.RequiredValidator()]),requestType:new v(null,[x.RequiredValidator()]),message:new v(null),privacy:new v(null,[x.RequiredTrueValidator()]),newsletter:new v(null,[x.RequiredValidator()]),commercial:new v(null,[x.RequiredValidator()]),promotion:new v(null,[x.RequiredValidator()]),checkRequest:window.antiforgery,checkField:""});this.controls=e.controls,t===_t.InferData?this.inferData():this.loadData$().pipe(it()).subscribe(),m(this.node,"submit").pipe(_(s=>this.onSubmit(s)),y(this.unsubscribe$)).subscribe(),e.test=()=>{this.test()},this.node.form=e}inferData(){Array.prototype.slice.call(this.node.querySelectorAll("select")).forEach(e=>{const s=e.getAttribute("name"),i=this.form.get(s);if(i){const n=Array.prototype.slice.call(e.querySelectorAll("option")).map(r=>({id:r.value||null,name:r.innerText}));i.options=n}})}loadData$(){}onSubmit(t){const e=this.form;if(e.flags.valid)console.log("ContactsForm.onSubmit.valid!");else{t.preventDefault(),e.touched=!0;const s=Array.prototype.slice.call(this.node.querySelectorAll(".invalid"));if(s.length){const n=s[0].getBoundingClientRect().top+window.scrollY-100;window.scrollTo(0,n)}}}test(){const t=this.form,e=this.controls,s=e.country.options.length>1?e.country.options[1].id:null,i=e.requestType.options.length>1?e.requestType.options[1].id:null;t.patch({firstName:"Jhon",lastName:"Appleseed",email:"jhonappleseed@gmail.com",telephone:"0721 411112",job:"Web Developer",company:"Websolute",city:"Pesaro",country:s,requestType:i,message:"Hi!",privacy:!0,newsletter:!1,commercial:!1,promotion:!1,checkRequest:window.antiforgery,checkField:""})}}h(xt,"meta",{selector:"[contacts-form]"});class At extends b{onInit(){const t=this.node.querySelector(".btn--close");t&&m(t,"click").pipe(p(e=>S.reject()),y(this.unsubscribe$)).subscribe()}}h(At,"meta",{selector:"[generic-modal]"});class kt extends b{onInit(){const t=Math.floor(performance.now()/100)/10;this.node.querySelector(".section__time").innerHTML=`SectionComponent.onInit at ${t}s`}}h(kt,"meta",{selector:"[section]"});const be=[xt,At,kt];function ye(l){return Object.keys(l).map(t=>({key:t,value:l[t]}))}const V=class extends b{onInit(){const t=this.fieldName=V.getField(this.node);if(t==="")return;const e=this.form=V.getForm(this.node);if(!e)return;const s=this.control=e.get(t);!s||(this.focus=!1,this.classList=Array.from(this.node.classList),this.onControl(t,s,e),s.changes$.pipe(y(this.unsubscribe$)).subscribe(i=>{this.onUpdate(),this.onChanged()}))}onControl(t,e,s){console.log("ControlComponent.onControl",t,e,s)}onUpdate(){const t=this.node,e=this.control,s=this.focus,i=this.flags=e.flags,n=this.errors=ye(e.errors);let r=st(H({},i),{value:V.hasValue(e),focus:s,required:e.validators.length>0});r=this.classList.concat(Object.keys(r).filter(o=>r[o]===!0),n.filter(o=>o.value!=null).map(o=>`error--${o.key}`)),t.setAttribute("class",r.join(" "))}onChanged(){console.log("ControlComponent.onChanged")}static hasValue(t){return t.value!=null&&t.value!=""}static getField(t){return t.getAttribute("field")}static getForm(t){let e=null,s=t.parentNode;for(;s;)s.form&&(e=s.form),s=e?null:s.parentNode;return e}};let C=V;h(C,"meta",{selector:"[control]"});class P extends C{onControl(t,e,s){this.input=this.node.querySelector("input"),this.listeners$().pipe(y(this.unsubscribe$)).subscribe()}onChanged(){const t=this.input,e=this.control;t.disabled=e.flags.disabled,t.readOnly=e.flags.readonly,e.flags.touched&&e.errors.length&&console.log("ControlText.onChanged.error",e.errors.map(s=>s.key)),t.value!==e.value&&(t.value=e.value)}listeners$(){return w(this.change$(),this.focus$(),this.blur$())}change$(){return w(m(this.input,"input"),m(this.input,"change")).pipe(p(t=>{this.control.patch(t.target.value)}))}focus$(){return m(this.input,"focus").pipe(p(t=>{this.focus=!0,this.onUpdate()}))}blur$(){return m(this.input,"blur").pipe(p(t=>{this.focus=!1,this.control.touched=!0}))}}h(P,"meta",{selector:"[control-text]"});class Et extends P{onChanged(){const t=this.input,e=this.control;t.disabled=e.flags.disabled,t.readOnly=e.flags.readonly,e.flags.touched&&e.errors.length&&console.log("ControlText.onChanged.error",e.errors.map(i=>i.key));const s=e.value===!0;t.checked!==s&&(t.checked=s)}change$(){return m(this.input,"change").pipe(p(t=>{this.control.patch(t.target.checked)}))}}h(Et,"meta",{selector:"[control-checkbox]"});class St extends P{}h(St,"meta",{selector:"[control-checkfield]"});class Mt extends C{onControl(t,e,s){(this.inputs=Array.prototype.slice.call(this.node.querySelectorAll("input"))).forEach((n,r)=>{e.value===!0&&r===0||e.value===!1&&r===1?n.setAttribute("checked",""):n.removeAttribute("checked")}),this.listeners$().pipe(y(this.unsubscribe$)).subscribe()}onChanged(){const t=this.inputs,e=this.control;t.forEach((s,i)=>{s.disabled=e.flags.disabled,s.readOnly=e.flags.readonly,e.value===!0&&i===0||e.value===!1&&i===1?s.setAttribute("checked",""):s.removeAttribute("checked")}),e.flags.touched&&e.errors.length&&console.log("ControlText.onChanged.error",e.errors.map(s=>s.key))}listeners$(){return w(this.change$(),this.focus$(),this.blur$())}change$(){return m(this.inputs,"change").pipe(p(t=>{this.control.patch(t.target.value)}))}focus$(){return m(this.inputs,"focus").pipe(p(t=>{this.focus=!0,this.onUpdate()}))}blur$(){return m(this.inputs,"blur").pipe(p(t=>{this.focus=!1,this.control.touched=!0}))}}h(Mt,"meta",{selector:"[control-privacy]"});class Ct extends C{onControl(t,e,s){this.select=this.node.querySelector("select"),this.listeners$().pipe(y(this.unsubscribe$)).subscribe()}onChanged(){const t=this.select,e=this.control;t.disabled=e.flags.disabled,t.readOnly=e.flags.readonly,e.flags.touched&&e.errors.length&&console.log("ControlSelect.onChanged.error",e.errors.map(s=>s.key)),t.value!==e.value&&(t.value=e.value)}listeners$(){return w(this.change$(),this.focus$(),this.blur$())}change$(){return m(this.select,"change").pipe(p(t=>{this.control.patch(t.target.value)}))}focus$(){return m(this.select,"focus").pipe(p(t=>{this.focus=!0,this.onUpdate()}))}blur$(){return m(this.select,"blur").pipe(p(t=>{this.focus=!1,this.control.touched=!0}))}}h(Ct,"meta",{selector:"[control-select]"});class Tt extends C{onControl(t,e,s){this.textarea=this.node.querySelector("textarea"),this.listeners$().pipe(y(this.unsubscribe$)).subscribe()}onChanged(){const t=this.textarea,e=this.control;t.disabled=e.flags.disabled,t.readOnly=e.flags.readonly,e.flags.touched&&e.errors.length&&console.log("ControlTextarea.onChanged.error",e.errors.map(s=>s.key)),t.value!==e.value&&(t.value=e.value)}listeners$(){return w(this.change$(),this.focus$(),this.blur$())}change$(){return w(m(this.textarea,"input"),m(this.textarea,"change")).pipe(p(t=>{this.control.patch(t.target.value)}))}focus$(){return m(this.textarea,"focus").pipe(p(t=>{this.focus=!0,this.onUpdate()}))}blur$(){return m(this.textarea,"blur").pipe(p(t=>{this.focus=!1,this.control.touched=!0}))}}h(Tt,"meta",{selector:"[control-textarea]"});function It(l,t){return typeof t=="object"&&Object.keys(t).forEach(e=>{const s=t[e];typeof s=="object"&&!Array.isArray(s)?l[e]=It(l[e],s):l[e]=s}),l}const we={flags:{production:!0},markets:["IT","EU","AM","AS","IN"],defaultMarket:"IT",currentMarket:"IT",languages:["it","en","de","ch"],defaultLanguage:"it",currentLanguage:"it",api:"/api",assets:"/Client/docs/",slug:{},template:{modal:{userModal:"/template/modals/user-modal.cshtml"}},facebook:{appId:123,fields:"id,name,first_name,last_name,email,gender,picture,cover,link",scope:"public_profile, email",tokenClient:"",version:"v11.0"},google:{clientId:"xxx"},googleMaps:{apiKey:"xxx"},thron:{clientId:""},workers:{image:"/Client/docs/js/workers/image.service.worker.js",prefetch:"/Client/docs/js/workers/prefetch.service.worker.js"},githubDocs:"https://raw.githubusercontent.com/actarian/davide-groppi/main/docs/"},ve={flags:{production:!1},markets:["IT","EU","AM","AS","IN"],defaultMarket:"IT",currentMarket:"IT",languages:["it","en","de","ch"],defaultLanguage:"it",currentLanguage:"it",api:"/davide-groppi/api",assets:"/davide-groppi/",slug:{},template:{modal:{userModal:"/davide-groppi/partials/modals/user-modal.html"}},facebook:{appId:610048027052371,fields:"id,name,first_name,last_name,email,gender,picture,cover,link",scope:"public_profile, email",tokenClient:"951b013fe59b05cf471d869aae9ba6ba",version:"v11.0"},google:{clientId:"760742757246-61qknlmthbmr54bh7ch19kjr0sftm4q3.apps.googleusercontent.com"},googleMaps:{apiKey:"AIzaSyDvGw6iAoKdRv8mmaC9GeT-LWLPQtA8p60"},thron:{clientId:""},workers:{image:"./js/workers/image.service.worker.js",prefetch:"./js/workers/prefetch.service.worker.js"},githubDocs:"https://raw.githubusercontent.com/actarian/davide-groppi/main/docs/"},L=typeof module!="undefined"&&module.exports,$e=L?{get:()=>{}}:new URLSearchParams(window.location.search);$e.get("debug")!=null;const _e=L?null:document.querySelector("base").getAttribute("href"),Z=L?!1:window&&window.location.host.indexOf("herokuapp")!==-1,xe=L?!1:Z||window&&(window.location.port==="48481"||window.location.port==="5000"||window.location.port==="6443"||window.location.host==="actarian.github.io"),Nt=L?!1:window&&["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.host.split(":")[0])!==-1,Ae=!Nt,G={STATIC:xe,DEVELOPMENT:Nt,PRODUCTION:Ae};class ke{get STATIC(){return G.STATIC}set STATIC(t){G.STATIC=t===!0||t==="true",console.log("Environment.STATIC.set",G.STATIC)}get href(){return Z?this.githubDocs:_e}getAbsoluteUrl(t,e){let s=`${window.location.origin}${t}`;return Object.keys(e).forEach(i=>{s=s.replace(`$${i}`,e[i])}),s}getPath(t){return this.isLocal(t)?this.href+t:t}isLocal(t){return t.indexOf("://")===-1}constructor(t){t&&Object.assign(this,t)}}const Ee={port:5e3,flags:{production:!1,heroku:Z},slug:{},markets:["IT","EU","AM","AS","IN"],defaultMarket:"IT",currentMarket:"IT",languages:["it","en"],defaultLanguage:"it",currentLanguage:"it",labels:{select:"Seleziona",browse:"Sfoglia",cancel:"Annulla",error_email:"Email non valida",error_match:"I campi non corrispondono",error_required:"Campo obbligatorio",loading:"caricamento",remove:"Rimuovi",required:"Richiesto",select_file:"Seleziona una file...",update:"Aggiorna",upload:"Carica",drag_and_drop_images:"Drag And Drop your images here"}},Se=window.STATIC?ve:we;let J=Object.assign(Ee,Se);J=It(J,window.environment);const Me=new ke(J);class jt extends b{onInit(){Me.flags.production||!(this.form=C.getForm(this.node))||(this.node.innerHTML=`
			<code class="forms-test__code"[innerHTML]="form.value | json"></code>
			<button type="button" class="btn--submit"><span>Test</span></button>
			<button type="button" class="btn--reset"><span>Reset</span></button>
		`,this.code=this.node.querySelector(".forms-test__code"),this.listeners$().pipe(y(this.unsubscribe$)).subscribe())}listeners$(){return w(this.change$(),this.test$(),this.reset$())}change$(){return this.form.changes$.pipe(p(t=>{this.code.innerText=JSON.stringify(t)}))}test$(){const t=this.node.querySelector(".btn--submit");return m(t,"click").pipe(p(e=>{const s=this.form;if(typeof s.test=="function")s.test();else{const i={};Object.keys(this.form.controls).forEach(n=>{const r=this.form.controls[n];r.validators.length&&(r.options?i[n]=r.options.length>1?r.options[1].id:null:i[n]=n)}),this.form.patch(i)}}))}reset$(){const t=this.node.querySelector(".btn--reset");return m(t,"click").pipe(p(e=>{this.form.reset()}))}}h(jt,"meta",{selector:"[forms-test]"});const Ce=[St,Et,Mt,Ct,P,Tt,jt];function Ot(l=document){return b.register$([...ie,...ee,...Ce,...be,ct,["LazySectionComponent","./modules/lazy-section.component.js","[lazy-section]"]],l)}window.addEventListener("DOMContentLoaded",()=>{Ot(document).subscribe(l=>{})});window.registerApp$=Ot;export{b as C};
